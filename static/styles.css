/* === THEME TOKENS === */
:root{
  --brand:#f26e3f; --brand-rgb:242,110,63; --brand-d:#d85a2e;
  --accent:#20bbbb; --accent-rgb:32,187,187;
  --ink:#231f20; --muted:#6f6666;
  --bg:#ffffff; --card:#ffffff; --line:#e8dfdc;
  --radius:14px; --btn-radius:12px;
  --shadow:0 12px 32px rgba(35,31,32,.08); --max:1120px; --content:700px;
  --ok:#20bbbb; --warn:#f6a609; --bad:#d64545;
  --link:#20bbbb;
}
html[data-contrast="high"]{
  --line:#000; --brand:#c84f1e; --brand-d:#a03f19; --link:#0abcbc;
  --shadow:none;
}

*{box-sizing:border-box} html,body{margin:0}
body{font-family:system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif;color:var(--ink);background:var(--bg);min-height:100vh;position:relative;}
body::before{
  content:"";
  position:fixed;
  inset:0;
  background:
   
    url("/static/assets/backgrounds/retro-waves.jpg");
  background-size:cover;
  background-position:center;
  background-repeat:no-repeat;
  z-index:-2;
}

a{color:var(--link)} img{max-width:100%}

/* Easy-Read mode */
body.easy-read{font-size:18px; line-height:1.6;}
body.easy-read .btn{font-size:18px;padding:14px 18px;border-radius:16px}
body.easy-read h2{font-size:32px}
body.easy-read .title-16{font-size:18px}
body.easy-read .sub-13{font-size:15px}
body.easy-read .emoji{font-size:22px}
body.easy-read .pill-input input::placeholder{font-size:16px}

/* === HEADER STYLING === */
header {
  max-width: var(--max);
  margin: 28px auto 0;
  padding: 14px 26px;

  display: flex;
  align-items: center;
  justify-content: space-between;

  border: 1px solid var(--line);
  background: rgba(255, 255, 255, 0.92);
  border-radius: 24px; /* rounded corners */
  box-shadow: 0 16px 40px rgba(35, 31, 32, 0.08);

  
  top: 24px; /* keep a comfortable gap from the top */
  z-index: 100;

  backdrop-filter: blur(10px);
  -webkit-backdrop-filter: blur(10px);
  transition: all 0.25s ease;
}
/* Optional hover lift */
header:hover {
  transform: translateY(-2px);
  box-shadow: 0 16px 36px rgba(35, 31, 32, 0.12);
}

/* Logo */
.logo a {
  font-weight: 800;
  font-size: 26px;
  letter-spacing: 0.2px;
  color: var(--brand);
  text-decoration: none;
}

/* Action buttons and selectors */
.actions {
  display: flex;
  gap: 14px;
  align-items: center;
  flex-wrap: wrap;
}

.nav-toggle {
  position: relative;
  display: inline-flex;
  align-items: center;
  gap: 12px;
  padding: 6px 16px 6px 12px;
  border-radius: 18px;
  background: rgba(var(--brand-rgb), 0.08);
  border: 1px solid rgba(var(--brand-rgb), 0.28);
  cursor: pointer;
  transition: all 0.2s ease;
}

.nav-toggle input[type="checkbox"] {
  position: absolute;
  inset: 0;
  opacity: 0;
  cursor: pointer;
}

.nav-toggle .toggle-visual {
  display: inline-flex;
  align-items: center;
  gap: 12px;
}

.toggle-icon {
  width: 28px;
  height: 28px;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  color: var(--brand);
  background: rgba(var(--brand-rgb), 0.16);
  border-radius: 12px;
}

.toggle-icon svg {
  width: 20px;
  height: 20px;
}

.toggle-copy {
  display: flex;
  flex-direction: column;
  gap: 2px;
}

.toggle-title {
  font-weight: 700;
  font-size: 14px;
  color: var(--ink);
}

.toggle-sub {
  font-size: 12px;
  color: var(--muted);
}

.nav-toggle:is(:hover, :focus-within) {
  transform: translateY(-1px);
  box-shadow: 0 12px 24px rgba(35, 31, 32, 0.12);
  border-color: rgba(var(--brand-rgb), 0.45);
}

.nav-toggle.is-alt {
  background: rgba(var(--accent-rgb), 0.14);
  border-color: rgba(var(--accent-rgb), 0.36);
}

.nav-toggle.is-alt .toggle-icon {
  color: var(--accent);
  background: rgba(var(--accent-rgb), 0.24);
}

.nav-toggle input:checked + .toggle-visual .toggle-icon {
  color: #fff;
  background: var(--brand);
}

.nav-toggle input:checked + .toggle-visual .toggle-title {
  color: var(--brand);
}

.nav-toggle-btn{
  color:inherit;
  background:rgba(var(--brand-rgb),0.08);
}
.nav-toggle-btn:focus-visible{
  outline:2px solid rgba(var(--brand-rgb),.6);
  outline-offset:2px;
}

.is-hidden {
  display: none !important;
}

.is-disabled {
  opacity: 0.45;
}



main{
  max-width:var(--max);
  margin:32px auto 56px;
  padding:32px 32px 64px;
  background:rgba(255,255,255,.87);
  border-radius:28px;
  border:1px solid rgba(var(--brand-rgb),.12);
  box-shadow:var(--shadow);
  backdrop-filter:blur(8px);
  min-height:max(640px,calc(100vh - 160px));
  display:flex;
  flex-direction:column;
  align-items:center;
  justify-content:center;
  gap:32px;
}
section.page{display:none}
#home:target,#choose:target,#auth:target,#history:target,#emergency:target,
#sev-breathing:target,#sev-chest:target,#sev-belly:target,#sev-skin:target,#sev-fever:target,#sev-injury:target{
  display:flex;
  flex-direction:column;
  align-items:center;
  justify-content:center;
  gap:28px;
  width:100%;
}
body:not(:target) #home{
  display:flex;
  flex-direction:column;
  align-items:center;
  justify-content:center;
  gap:28px;
  width:100%;
}

.center{text-align:center}
h2{font-size:28px;margin:8px 0 4px}
.sub{color:var(--muted);margin-bottom:18px}
.stack{width:min(var(--content),92%);margin:0 auto}
.btn{border:1px solid transparent;background:var(--brand);color:#fff;cursor:pointer;font-weight:700;line-height:1;padding:10px 16px;border-radius:var(--btn-radius);transition:.15s ease;display:inline-flex;align-items:center;gap:8px;white-space:nowrap;text-decoration:none}
.btn:hover{background:var(--brand-d)}
.btn-outline{background:var(--card);color:var(--ink);border-color:rgba(var(--brand-rgb),.35)}
.btn-ghost{border:1px solid var(--line);background:var(--card);color:var(--ink)}
.btn-ghost.logout-btn{
  border:1px solid rgba(var(--brand-rgb),.22);
  background:rgba(var(--brand-rgb),.12);
  color:#b0362f;
  padding:10px 20px;
  border-radius:999px;
  display:inline-flex;
  align-items:center;
  gap:10px;
  font-weight:700;
  transition:color .18s ease, background .18s ease, border-color .18s ease, transform .18s ease;
}
.btn-ghost.logout-btn .logout-icon{
  display:inline-flex;
  align-items:center;
  justify-content:center;
  width:22px;
  height:22px;
  border-radius:999px;
  background:rgba(176,54,47,.18);
  color:inherit;
}
.btn-ghost.logout-btn .logout-icon svg{
  width:14px;
  height:14px;
}
.btn-ghost.logout-btn span:last-child{
  line-height:1;
}
.btn-ghost.logout-btn:hover,
.btn-ghost.logout-btn:focus-visible{
  background:rgba(176,54,47,.24);
  border-color:rgba(176,54,47,.38);
  color:#8c231b;
  transform:translateY(-1px);
  outline:none;
}
.btn-wide{width:min(480px,92%);font-size:16px;padding:15px 18px;border-radius:var(--btn-radius);display:flex;align-items:center;justify-content:center;gap:10px;text-decoration:none}
.mic-btn{position:relative;overflow:hidden;gap:10px}
.mic-btn .mic-icon{display:inline-flex;align-items:center;justify-content:center;width:28px;height:28px;border-radius:50%;background:rgba(255,255,255,.22);color:#fff;box-shadow:0 0 0 0 rgba(255,255,255,.4);transition:transform .25s ease,opacity .25s ease}
.mic-btn .mic-icon svg{width:18px;height:18px;display:block}
.mic-btn .mic-text{font-weight:700}
.guide-btn{gap:10px;padding-left:18px;padding-right:18px}
.guide-btn .guide-icon{display:inline-flex;align-items:center;justify-content:center;width:26px;height:26px;border-radius:50%;background:rgba(var(--brand-rgb),.12);color:var(--brand);transition:transform .25s ease,background .25s ease}
.guide-btn .guide-icon svg{width:16px;height:16px;display:block}
.guide-btn .guide-text{font-weight:600}
.guide-btn:hover .guide-icon{background:rgba(var(--brand-rgb),.2);transform:translateY(-1px)}
.btn.is-listening{position:relative;box-shadow:0 0 0 0 rgba(var(--brand-rgb),.45);animation:mic-pulse 1.6s ease-out infinite}
.btn.is-listening::after{content:"";position:absolute;inset:-4px;border-radius:inherit;border:2px solid rgba(var(--brand-rgb),.25);opacity:0;animation:mic-ring 1.6s ease-out infinite}
.btn.is-listening .mic-icon{opacity:1;box-shadow:0 0 0 0 rgba(255,255,255,.4);animation:mic-dot 1.4s ease-in-out infinite}

.modal{position:fixed;inset:0;display:flex;align-items:center;justify-content:center;padding:24px;background:rgba(35,31,32,.45);backdrop-filter:blur(4px);z-index:220;transition:opacity .2s ease}
.modal.is-hidden{opacity:0;pointer-events:none;visibility:hidden}
.modal-backdrop{position:absolute;inset:0;cursor:pointer}
.modal-shell{position:relative;background:var(--card);border-radius:22px;box-shadow:0 24px 48px rgba(35,31,32,.22);padding:32px 28px;width:min(420px,92%);display:flex;flex-direction:column;gap:18px;border:1px solid rgba(var(--brand-rgb),.14)}
.modal-close{position:absolute;top:12px;right:12px;border:0;background:rgba(var(--brand-rgb),.12);border-radius:50%;width:36px;height:36px;display:flex;align-items:center;justify-content:center;color:var(--brand);cursor:pointer;transition:background .2s ease, transform .2s ease}
.modal-close svg{width:18px;height:18px}
.modal-close:hover{background:rgba(var(--brand-rgb),.22);transform:scale(1.03)}
.modal-body{display:flex;flex-direction:column;gap:16px}
body.modal-open{overflow:hidden}
.auth-shell{
  max-width:480px;
}
.auth-body{
  gap:24px;
}
.auth-tabs{
  display:flex;
  gap:10px;
  background:rgba(var(--brand-rgb),.08);
  border-radius:18px;
  padding:6px;
}
.auth-tab{
  flex:1 1 0;
  border:0;
  background:transparent;
  border-radius:14px;
  font-weight:700;
  font-size:15px;
  padding:10px 14px;
  cursor:pointer;
  color:var(--muted);
  transition:.2s ease;
}
.auth-tab.is-active{
  background:#fff;
  color:var(--brand);
  box-shadow:0 10px 22px rgba(var(--brand-rgb),.2);
}
.auth-tab:not(.is-active):hover{
  color:var(--brand);
}
.auth-message{
  display:none;
  font-size:14px;
  padding:10px 14px;
  border-radius:12px;
  background:rgba(var(--brand-rgb),.08);
  color:var(--brand);
}
.auth-message.is-error{
  background:rgba(var(--bad),.12);
  color:var(--bad);
}
.auth-message.is-success{
  background:rgba(var(--accent-rgb),.12);
  color:var(--accent);
}
.auth-message:not(.is-hidden){display:block}
.auth-form{
  display:flex;
  flex-direction:column;
  gap:16px;
}
.auth-form.is-hidden{display:none}
.auth-form h2{margin:0;font-size:24px;font-weight:800;color:var(--ink);text-align:center}
.auth-sub{
  margin:-6px 0 8px;
  text-align:center;
  color:var(--muted);
}
.auth-label{
  font-size:13px;
  font-weight:700;
  text-align:left;
  color:var(--muted);
}
.auth-form input{
  width:100%;
  border-radius:14px;
  border:1px solid rgba(var(--brand-rgb),.18);
  padding:12px 14px;
  font-size:15px;
  transition:border .2s ease, box-shadow .2s ease;
}
.auth-form input:focus{
  outline:none;
  border-color:rgba(var(--brand-rgb),.45);
  box-shadow:0 0 0 3px rgba(var(--brand-rgb),.18);
}
.auth-submit{
  width:100%;
  justify-content:center;
  margin-top:6px;
}

.history-toggle-btn{all:unset;display:flex;align-items:center;gap:16px;padding:18px 20px;width:100%;cursor:pointer;flex-wrap:wrap}
.history-toggle-icon{width:44px;height:44px;border-radius:14px;background:rgba(var(--brand-rgb),.16);color:var(--brand);display:flex;align-items:center;justify-content:center;flex:0 0 auto}
.history-toggle-icon svg{width:22px;height:22px}

.analysis-card{
  --analysis-accent:var(--brand);
  --analysis-accent-rgb:var(--brand-rgb);
  width:min(var(--content),92%);
  margin:28px auto 0;
  border-radius:26px;
  background:#fff8f4;
  border:1px solid rgba(35,31,32,.08);
  box-shadow:0 22px 44px rgba(35,31,32,.14);
  padding:32px 30px;
  transition:transform .3s ease, box-shadow .3s ease, border-color .3s ease;
}
.analysis-card:hover{
  transform:translateY(-3px);
  box-shadow:0 28px 58px rgba(35,31,32,.16);
  border-color:rgba(35,31,32,.12);
}

/* === Header === */
.analysis-head{
  display:flex;
  align-items:center;
  gap:18px;
  margin-bottom:26px;
}
.analysis-icon{
  width:56px;
  height:56px;
  border-radius:18px;
  display:flex;
  align-items:center;
  justify-content:center;
  background:#fff;
  color:var(--analysis-accent);
  border:1px solid rgba(35,31,32,.08);
  box-shadow:0 10px 24px rgba(35,31,32,.12);
}
.analysis-icon svg{width:28px;height:28px}
.analysis-head h3{margin:0;font-size:24px;font-weight:800;color:var(--ink)}
.analysis-meta{margin:4px 0 0;color:var(--muted);font-size:14px}

/* === Body === */
.analysis-body{
  display:grid;
  grid-template-columns:1fr;
  gap:20px;
}
.analysis-item{
  display:flex;
  gap:16px;
  align-items:flex-start;
  padding:20px 22px;
  border-radius:20px;
  background:rgba(255,255,255,.95);
  border:1px solid rgba(35,31,32,.1);
  box-shadow:0 12px 26px rgba(35,31,32,.08);
  transition:transform .25s ease, box-shadow .25s ease, border-color .25s ease;
}
.analysis-item:hover{
  transform:translateY(-3px);
  box-shadow:0 22px 42px rgba(35,31,32,.12);
}
.analysis-item-icon{
  width:52px;
  height:52px;
  border-radius:16px;
  display:flex;
  align-items:center;
  justify-content:center;
  flex:0 0 auto;
  background:rgba(var(--analysis-accent-rgb),.1);
  color:var(--analysis-accent);
}
.analysis-item-icon svg{width:24px;height:24px}
.analysis-item-copy{display:flex;flex-direction:column;gap:6px}
.analysis-item-copy h4{
  margin:0;
  font-size:15px;
  font-weight:700;
  text-transform:uppercase;
  letter-spacing:.18em;
  color:var(--muted);
}
.analysis-copy{
  margin:0;
  font-size:16px;
  line-height:1.6;
  color:var(--ink);
}
.analysis-copy.muted{color:var(--muted)}

#conditionRow .analysis-item-icon{background:rgba(var(--brand-rgb),.14);color:var(--brand);}
#adviceRow .analysis-item-icon{background:rgba(var(--accent-rgb),.18);color:var(--accent);}
#conditionRow{grid-area:condition;}
#severityRow{grid-area:severity;}
#adviceRow{
  grid-area:advice;
  flex-direction:column;
  align-items:center;
  justify-content:center;
  text-align:center;
}
#adviceRow .analysis-item-copy{align-items:center;text-align:center;}
#adviceRow .analysis-copy{font-size:18px;}

@media (min-width:840px){
  .analysis-body{
    grid-template-columns:minmax(260px,1fr) minmax(260px,1fr);
    grid-template-areas:
      "condition advice"
      "severity advice";
    align-items:stretch;
    grid-auto-rows:1fr;
  }
  #adviceRow{
    align-self:stretch;
    height:100%;
  }
}

/* === Severity-based Card Styling === */
.analysis-card.severity-unknown{--analysis-accent:var(--brand);--analysis-accent-rgb:var(--brand-rgb);}
.analysis-card.severity-mild{--analysis-accent:var(--accent);--analysis-accent-rgb:var(--accent-rgb);}
.analysis-card.severity-moderate{--analysis-accent:#d37b10;--analysis-accent-rgb:211,123,16;}
.analysis-card.severity-severe{--analysis-accent:var(--bad);--analysis-accent-rgb:214,69,69;}

/* === Severity Row Accents === */
#severityRow{border-color:rgba(var(--analysis-accent-rgb),.22)}
#severityRow{background:rgba(var(--analysis-accent-rgb),.12);border-color:rgba(var(--analysis-accent-rgb),.3)}
#severityRow[data-severity="unknown"]{background:rgba(var(--brand-rgb),.12);border-color:rgba(var(--brand-rgb),.28)}
#severityRow[data-severity="mild"]{
  background:rgba(var(--accent-rgb),.14);
  border-color:rgba(var(--accent-rgb),.26);
}
#severityRow[data-severity="moderate"]{
  background:rgba(255,184,77,.18);
  border-color:rgba(255,184,77,.32);
}
#severityRow[data-severity="severe"]{
  background:rgba(214,69,69,.16);
  border-color:rgba(214,69,69,.34);
}
#severityRow[data-severity="unknown"] .analysis-item-icon{background:rgba(var(--brand-rgb),.18);color:var(--brand);}
#severityRow[data-severity="mild"] .analysis-item-icon{
  background:rgba(var(--accent-rgb),.24);
  color:var(--accent);
}
#severityRow[data-severity="moderate"] .analysis-item-icon{
  background:rgba(255,184,77,.24);
  color:#d37b10;
}
#severityRow[data-severity="severe"] .analysis-item-icon{
  background:rgba(214,69,69,.22);
  color:var(--bad);
}

/* === Severity Text Colors === */
#severityRow .analysis-copy{font-weight:700;}
#severityRow[data-severity="unknown"] .analysis-copy{color:var(--brand);}
#severityRow[data-severity="mild"] .analysis-copy{color:var(--accent);}
#severityRow[data-severity="moderate"] .analysis-copy{color:#d37b10;}
#severityRow[data-severity="severe"] .analysis-copy{color:var(--bad);}

/* === Footer Actions === */
.analysis-actions{
  margin-top:26px;
  display:flex;
  justify-content:flex-end;
}
.history-trigger{
  margin:10px auto 0;
  display:inline-flex;
  align-items:center;
  gap:8px;
  padding:6px 10px;
  border:0;
  background:none;
  color:var(--brand);
  font-weight:700;
  font-size:15px;
  cursor:pointer;
  transition:color .2s ease, transform .2s ease;
}
.history-trigger:hover,
.history-trigger:focus-visible{
  color:var(--brand-d);
  transform:translateY(-1px);
  outline:none;
}
.history-trigger.is-hidden{display:none;}
.history-trigger-icon{
  display:inline-flex;
  align-items:center;
  justify-content:center;
  width:18px;
  height:18px;
  color:currentColor;
}
.refresh-btn{
  display:inline-flex;
  align-items:center;
  justify-content:center;
  gap:12px;
  padding:14px 24px;
  border-radius:22px;
  background:rgba(var(--brand-rgb),.08);
  border:1px solid rgba(var(--brand-rgb),.3);
  color:var(--brand);
  font-weight:700;
  box-shadow:0 16px 36px rgba(var(--brand-rgb),.12);
  transition:transform .18s ease, box-shadow .18s ease, background .18s ease, border .18s ease;
}
.refresh-btn .refresh-icon{
  display:inline-flex;
  align-items:center;
  justify-content:center;
  width:36px;
  height:36px;
  border-radius:14px;
  background:rgba(var(--brand-rgb),.16);
  color:var(--brand);
  box-shadow:none;
}
.refresh-btn .refresh-icon svg{
  width:20px;
  height:20px;
}
.refresh-btn span:last-child{
  font-size:16px;
  font-weight:700;
}
.refresh-btn:hover,
.refresh-btn:focus-visible{
  transform:translateY(-2px);
  box-shadow:0 22px 44px rgba(var(--brand-rgb),.18);
  background:rgba(var(--brand-rgb),.12);
  border-color:rgba(var(--brand-rgb),.42);
  outline:none;
}



.glyph{width:18px;height:18px;display:inline-block}
.glyph svg{width:18px;height:18px;display:block}

/* --- Hero intro replacement for banner --- */
/* Keep existing hero-overlay styles, but refine spacing */
.hero-intro{
  text-align:center;
  margin:0 auto 40px;
  width:min(var(--content),92%);
  display:flex;
  flex-direction:column;
  align-items:center;
  justify-content:center;
  min-height:360px;
}

.hero-intro .hero-tag{
  display: inline-flex;
  align-items: center;
  gap: 8px;
  padding: 6px 14px;
  border-radius: 999px;
  background: rgba(var(--accent-rgb), 0.18);
  color: var(--accent);
  font-size: 12px;
  letter-spacing: 0.18em;
  text-transform: uppercase;
  font-weight: 700;
  margin-bottom: 18px;
}

.hero-intro .hero-overlay{
  margin-bottom:30px;
  display:flex;
  flex-direction:column;
  align-items:center;
  justify-content:center;
  gap:16px;
  min-height:280px;
}

.hero-intro .hero-actions{
  display:flex;
  justify-content:center;
  gap:12px;
  flex-wrap:wrap;
  margin-top:10px;
}
.how-to-btn{
  border:1px solid rgba(35,31,32,.16);
  background:rgba(255,255,255,.92);
  color:var(--ink);
  border-radius:999px;
  padding:10px 20px;
  display:inline-flex;
  align-items:center;
  justify-content:center;
  font-weight:600;
  cursor:pointer;
  transition:.2s ease;
}
.how-to-btn:hover,
.how-to-btn:focus-visible{
  background:#fff;
  border-color:rgba(var(--brand-rgb),.28);
  color:var(--brand);
  outline:none;
}
.how-to-btn:active{
  transform:translateY(1px);
}

.how-to-shell{
  max-width:520px;
}
.how-to-shell .modal-body{
  gap:18px;
}
.how-to-shell h2{
  margin:0;
  font-size:24px;
  font-weight:800;
  text-align:center;
}
.how-to-lead{
  margin:0;
  font-size:16px;
  color:var(--muted);
  text-align:center;
  line-height:1.6;
}
.how-to-steps{
  margin:0;
  padding-left:22px;
  color:var(--ink);
  line-height:1.6;
  font-size:16px;
}
.how-to-steps li+li{margin-top:10px;}
.how-to-footnote{
  margin:0;
  font-size:14px;
  color:var(--muted);
  text-align:center;
}

.hero-intro .hero-overlay h1 {
  font-size: 32px;
  font-weight: 800;
  color: var(--brand);
  margin-bottom: 12px;
}

.hero-intro .hero-overlay p {
  font-size: 16px;
  line-height: 1.6;
  color: var(--ink);
  margin: 0;
}

.simple-heading {
  font-size: 28px;
  font-weight: 800;
  color: var(--ink);
  margin-top: 0;
}

.main-title {
  font-size: 42px;
  font-weight: 900;
  color: var(--brand);
  margin-bottom: 16px;
}

.info-card {
  display: inline-block;
  max-width: 680px;
  background: rgba(255,255,255,0.9);
  border: 1px solid rgba(var(--brand-rgb),0.18);
  box-shadow: var(--shadow);
  border-radius: 18px;
  padding: 18px 24px;
  font-size: 16px;
  line-height: 1.6;
  color: var(--ink);
}

  linear-gradient(120deg, rgba(var(--accent-rgb),.35), rgba(var(--brand-rgb),.25)),
  repeating-linear-gradient(140deg,#f7e0b3 0,#f7e0b3 36px,#f26e3f 36px,#f26e3f 72px,#20bbbb 72px,#20bbbb 108px,#f7b560 108px,#f7b560 144px,#231f20 144px,#231f20 180px);
background-size:560px 340px;}
.banner::after{content:"";position:absolute;inset:0;background:radial-gradient(circle at 20% 20%,rgba(255,255,255,.65),transparent 60%),radial-gradient(circle at 80% 40%,rgba(255,255,255,.35),transparent 70%);mix-blend-mode:screen;}
.banner .title{position:absolute;left:28px;bottom:30px;color:var(--ink);font-weight:800;font-size:28px;max-width:70%;line-height:1.2;}

.cta{display:flex;flex-direction:column;align-items:center;gap:12px}

.hero-overlay{position:relative;background:rgba(255,255,255,.92);border-radius:28px;padding:28px;border:1px solid rgba(var(--brand-rgb),.18);box-shadow:0 18px 36px rgba(35,31,32,.08);margin-bottom:22px;overflow:hidden}
.hero-overlay::before{content:"";position:absolute;inset:0;background:linear-gradient(135deg,rgba(var(--accent-rgb),.16),rgba(var(--brand-rgb),.12));mix-blend-mode:multiply;opacity:.85}
.hero-overlay > *{position:relative;z-index:1}
.hero-overlay h1{margin:14px 0 8px;font-size:34px;font-weight:800;color:var(--ink)}
.hero-overlay .sub{margin:0 0 4px;font-size:16px;color:var(--muted);max-width:92%}
.hero-tag{display:inline-flex;align-items:center;gap:8px;padding:6px 14px;border-radius:999px;background:rgba(var(--accent-rgb),.18);color:var(--accent);font-size:12px;letter-spacing:.18em;text-transform:uppercase;font-weight:700}

.choice-grid{
  display:grid;
  grid-template-columns:repeat(2,minmax(0,1fr));
  gap:20px;
  margin:24px auto 0;
  max-width:520px;
  justify-items:center;
}
.choice-grid--wide{
  grid-template-columns:repeat(3,minmax(0,1fr));
  max-width:780px;
  justify-items:stretch;
}
.choice-grid--cols3{
  grid-template-columns:repeat(3,minmax(0,1fr));
  max-width:840px;
  justify-items:stretch;
}
.choice-card{
  display:flex;
  flex-direction:column;
  align-items:center;
  justify-content:center;
  gap:16px;
  padding:26px 20px;
  border-radius:26px;
  border:1px solid rgba(var(--brand-rgb),.15);
  background:rgba(255,255,255,.92);
  color:var(--ink);
  font-weight:700;
  cursor:pointer;
  text-align:center;
  transition:transform .18s ease, box-shadow .18s ease, border .18s ease, background .18s ease;
  box-shadow:0 20px 44px rgba(35,31,32,.08);
  width:100%;
  max-width:240px;
  aspect-ratio:1/1;
  padding:28px 24px;
}
.choice-grid--wide .choice-card,
.choice-grid--cols3 .choice-card{
  max-width:none;
}
.choice-card .choice-icon{
  width:92px;
  height:92px;
  border-radius:28px;
  display:inline-flex;
  align-items:center;
  justify-content:center;
  background:none;
  box-shadow:none;
}
.choice-card svg{
  width:88px;
  height:88px;
}
.entry-choice-options{
  margin-top:28px;
}
#entrySymptomOptions .choice-card{
  width:100%;
}
.choice-card .choice-label{
  line-height:1.35;
  font-size:17px;
}
.choice-card:hover,
.choice-card:focus-visible{
  transform:translateY(-4px);
  box-shadow:0 26px 54px rgba(35,31,32,.16);
  border-color:rgba(var(--brand-rgb),.38);
  background:rgba(var(--brand-rgb),.1);
  outline:none;
}
.choice-card:active{transform:translateY(0)}

/* Dual box */
.guided-box{
  width:min(540px,92%);
  margin:24px auto;
  display:flex;
  justify-content:center;
}
.question-card{
  background:rgba(255,255,255,.95);
  border:1px solid rgba(var(--brand-rgb),.18);
  border-radius:32px;
  box-shadow:0 26px 60px rgba(35,31,32,.12);
  padding:36px 32px 32px;
  display:flex;
  flex-direction:column;
  gap:24px;
  text-align:center;
  align-items:center;
}
.question-card--active{
  width:min(540px,92vw);
}
.question-chip{
  display:inline-flex;
  align-items:center;
  justify-content:center;
  padding:6px 18px;
  border-radius:999px;
  background:rgba(var(--accent-rgb),.18);
  color:var(--accent);
  font-size:12px;
  font-weight:800;
  letter-spacing:.16em;
  text-transform:uppercase;
}
.question-title{
  margin:0;
  font-size:30px;
  font-weight:900;
  color:var(--ink);
}
.question-sub{
  margin:0;
  color:var(--muted);
  font-size:16px;
  line-height:1.6;
}
.question-body{
  width:100%;
  display:flex;
  flex-direction:column;
  gap:24px;
}
.question-actions{
  display:flex;
  gap:14px;
  flex-wrap:wrap;
  justify-content:center;
}
.question-actions--choice{
  width:100%;
}
.question-actions .pill-input{
  flex:1 1 240px;
  margin:0;
}
.question-actions .pill-input input{width:100%}
.question-btn{
  border-radius:18px;
  padding:14px 22px;
  font-size:16px;
  font-weight:700;
  display:inline-flex;
  align-items:center;
  justify-content:center;
  gap:10px;
  border:2px solid transparent;
  cursor:pointer;
  transition:.2s ease;
}
.question-btn--card{
  flex-direction:column;
  justify-content:center;
  align-items:center;
  gap:18px;
  text-align:center;
  width:200px;
  min-height:200px;
  border-radius:26px;
  padding:28px 22px;
  box-shadow:0 22px 48px rgba(35,31,32,.1);
}
.question-btn--card .question-btn-icon{
  width:76px;
  height:76px;
  border-radius:22px;
  background:rgba(255,255,255,.22);
  color:inherit;
  box-shadow:0 18px 38px rgba(35,31,32,.12);
}
.question-btn--card .question-btn-icon svg{
  width:34px;
  height:34px;
}
.question-btn--card .question-btn-label{
  display:block;
  font-size:17px;
  font-weight:800;
  line-height:1.4;
}
.question-btn--card.question-btn--primary{
  box-shadow:0 24px 52px rgba(var(--brand-rgb),.28);
}
.question-btn--card.question-btn--primary .question-btn-icon{
  background:rgba(255,255,255,.26);
}
.question-btn--card.question-btn--secondary{
  border-color:rgba(var(--brand-rgb),.22);
  background:rgba(255,255,255,.96);
}
.question-btn--card.question-btn--secondary .question-btn-icon{
  background:rgba(var(--brand-rgb),.14);
  color:var(--brand);
  box-shadow:none;
}
.question-btn--card:hover,
.question-btn--card:focus-visible{
  transform:translateY(-2px);
}
.question-btn--card:hover .question-btn-icon,
.question-btn--card:focus-visible .question-btn-icon{
  box-shadow:0 22px 48px rgba(35,31,32,.18);
}
.question-btn--primary{
  background:var(--brand);
  color:#fff;
  border-color:rgba(var(--brand-rgb),.3);
  box-shadow:0 18px 40px rgba(var(--brand-rgb),.28);
}
.question-btn--primary:hover,
.question-btn--primary:focus-visible{
  background:var(--brand-d);
  outline:none;
}
.question-btn--secondary{
  background:#fff;
  color:var(--ink);
  border-color:rgba(var(--brand-rgb),.2);
  box-shadow:0 12px 28px rgba(35,31,32,.08);
}
.question-btn--secondary:hover,
.question-btn--secondary:focus-visible{
  border-color:rgba(var(--brand-rgb),.4);
  color:var(--brand);
  outline:none;
}
.question-btn--ghost{
  background:rgba(255,255,255,.92);
  color:var(--muted);
  border-color:rgba(35,31,32,.12);
  box-shadow:none;
}
.question-btn--ghost:hover,
.question-btn--ghost:focus-visible{
  color:var(--brand);
  border-color:rgba(var(--brand-rgb),.3);
}
.question-btn-icon{
  display:inline-flex;
  align-items:center;
  justify-content:center;
  width:26px;
  height:26px;
  border-radius:999px;
  background:rgba(255,255,255,.2);
}
.question-btn-icon svg{width:16px;height:16px}
.question-btn.is-listening,
.question-btn.question-btn--primary.is-listening{
  transform:translateY(-1px);
  box-shadow:0 22px 44px rgba(var(--brand-rgb),.32);
}
.question-textarea{
  width:100%;
  border-radius:18px;
  border:1px solid rgba(var(--brand-rgb),.2);
  padding:16px 18px;
  font-size:16px;
  line-height:1.5;
  resize:vertical;
  min-height:120px;
  font-family:inherit;
  color:var(--ink);
  background:#fff;
  box-shadow:0 12px 26px rgba(35,31,32,.08);
}
.question-textarea:focus{
  outline:2px solid rgba(var(--brand-rgb),.35);
  outline-offset:2px;
}
.entry-text-wrap{
  width:100%;
  display:flex;
  flex-direction:column;
  gap:16px;
}
.entry-text-wrap.is-hidden{display:none;}
.entry-text-actions{
  display:flex;
  gap:12px;
  flex-wrap:wrap;
  justify-content:center;
}

.save-row{display:flex;gap:10px;justify-content:flex-end;width:min(var(--content),92%);margin:10px auto 0}
.guided-actions{
  width:min(540px,92%);
  margin:12px auto 0;
  display:flex;
  justify-content:center;
}

.entry-choice{
  width:100%;
  margin:0 auto;
  min-height:420px;
  display:flex;
  align-items:center;
  justify-content:center;
  padding:30px 18px 10px;
}
.entry-choice .question-card{
  width:min(540px,92vw);
}

@media (max-width:680px){
  .entry-choice{
    min-height:320px;
    padding:24px 16px 0;
  }
  .question-card{
    padding:26px 22px;
  }
  .question-title{font-size:24px;}
}

.cards{width:86%;margin:30px auto 0;display:grid;grid-template-columns:1fr 1fr 1fr;gap:28px}
.card{border:1px solid var(--line);border-radius:var(--radius);padding:22px 28px;background:var(--card);box-shadow:var(--shadow);display:flex;align-items:center;gap:14px;text-decoration:none;color:inherit}
.label{font-weight:700}
.ico-blue{color:var(--accent)}.ico-red{color:var(--brand)}.ico-purple{color:var(--muted)}

.pill-input{width:100%;height:48px;border-radius:999px;border:1px solid var(--line);background:var(--card);display:flex;align-items:center;padding:0 18px;color:#888;font-size:14px;margin:12px 0 18px}
.pill-input input{border:0;outline:none;width:100%;font-size:14px;background:transparent;color:var(--ink)}

.list{width:100%;margin-top:6px;border-top:1px solid var(--line)}
.row{display:grid;grid-template-columns:auto 1fr auto auto;gap:12px;align-items:center;padding:16px 6px;border-bottom:1px solid var(--line);text-decoration:none;color:inherit;background:var(--card)}
.row:hover{background:rgba(var(--accent-rgb),.08)}
.emoji{width:36px;height:36px;border-radius:50%;display:grid;place-items:center;background:rgba(var(--accent-rgb),.12);color:var(--accent);font-size:18px}
.title-16{font-weight:700}.sub-13{margin:2px 0 0;font-size:13px;color:#8a8a8a}
.add-symptom{justify-self:start;border:1px solid var(--line);background:var(--card);padding:6px 10px;border-radius:999px;font-size:12px;cursor:pointer;color:var(--ink)}
.add-symptom:hover{background:rgba(var(--accent-rgb),.1)}

/* Severity summary */
.triage{width:min(var(--content),92%);margin:14px auto 0;border:1px solid rgba(var(--brand-rgb),.14);border-radius:14px;padding:14px;background:var(--card);box-shadow:var(--shadow)}
.triage h4{margin:0 0 8px 0}
.badge{display:inline-block;padding:6px 10px;border-radius:999px;font-weight:800;font-size:12px}
.b-mild{background:rgba(var(--accent-rgb),.12);color:var(--accent);border:1px solid rgba(var(--accent-rgb),.32)}
.b-mod{background:rgba(255,184,77,.18);color:#d37b10;border:1px solid rgba(255,184,77,.32)}
.b-sev{background:rgba(214,69,69,.14);color:#d64545;border:1px solid rgba(214,69,69,.36)}
.triage .adv{margin:8px 0 0}
.triage .cta-row{display:flex;gap:10px;flex-wrap:wrap;margin-top:10px}
.emg{color:#fff;background:var(--bad);border-color:var(--bad)}
.emg:hover{background:#bb3030}

/* History */
.hist-wrap{width:min(900px,92%);margin:0 auto}
.locked-callout{border:1px solid var(--line);border-radius:14px;background:var(--card);box-shadow:var(--shadow);padding:24px 26px;margin:18px 0 24px;text-align:center}
.locked-callout h3{margin:0 0 8px;font-size:22px}
.locked-callout p{margin:0 0 18px;color:var(--muted)}
.history-content{margin-top:12px}
.history-content.is-hidden{display:none}
.hist-preview{font-size:14px;line-height:1.4;color:var(--ink)}
.hist-meta{display:flex;justify-content:space-between;align-items:center;gap:10px;flex-wrap:wrap}
.badge{display:inline-block;padding:6px 10px;border-radius:999px;font-weight:800;font-size:12px}
.badge-mild{background:rgba(var(--accent-rgb),.12);color:var(--accent);border:1px solid rgba(var(--accent-rgb),.32)}
.badge-moderate{background:rgba(255,184,77,.18);color:#d37b10;border:1px solid rgba(255,184,77,.32)}
.badge-severe{background:rgba(214,69,69,.14);color:#d64545;border:1px solid rgba(214,69,69,.36)}
.badge-neutral{background:rgba(35,31,32,.06);color:var(--muted);border:1px solid rgba(35,31,32,.18)}
.condition-tag{font-size:12px;color:var(--muted);font-weight:600}
.empty-state{margin:28px 0 0;text-align:center;color:var(--muted);font-size:14px}
.mono{font-family:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,"Liberation Mono","Courier New",monospace;font-size:12px;color:var(--ink);white-space:pre-wrap}
.hist-advice{margin:4px 0 0;font-size:12px;color:var(--muted)}

/* Emergency */
.emg-wrap{width:min(760px,92%);margin:0 auto}
.big-call{display:block;text-align:center;text-decoration:none;border-radius:16px;padding:18px 20px;font-weight:900;font-size:28px;border:2px solid var(--bad);background:var(--card);color:var(--bad);box-shadow:var(--shadow)}
.big-call:hover{background:#fff4f4}

.back{margin-top:18px;text-align:center}
.back a{color:var(--muted);text-decoration:none;font-weight:600}
.back a:hover{text-decoration:underline}



@media (max-width:980px){.banner{width:92%}.cards{width:92%}}
@media (max-width:680px){
  main{min-height:auto}
  .hero-intro{min-height:auto}
  header{padding:12px 18px}
  .actions{gap:10px}
  .nav-toggle{flex:1 1 100%;justify-content:flex-start}
  .question-actions{flex-direction:column;align-items:stretch}
  .question-actions .btn{width:100%}
  .question-btn--card{
    width:100%;
    min-height:auto;
    padding:24px 20px;
  }
  .question-btn--card .question-btn-icon{
    width:64px;
    height:64px;
  }
  .choice-grid{
    grid-template-columns:1fr;
    max-width:none;
    margin-top:20px;
    justify-items:stretch;
  }
  .choice-card{
    padding:22px 18px;
    gap:14px;
    max-width:none;
  }
  .guided-actions{flex-wrap:wrap;justify-content:center}
  .guided-actions .btn-ghost{flex:1 1 100%}
  .analysis-card{padding:22px}
  .analysis-body{gap:14px}
  .analysis-item{flex-direction:column;align-items:stretch}
}

@keyframes mic-pulse{
  0%{box-shadow:0 0 0 0 rgba(var(--brand-rgb),.45)}
  70%{box-shadow:0 0 0 12px rgba(var(--brand-rgb),0)}
  100%{box-shadow:0 0 0 0 rgba(var(--brand-rgb),0)}
}
@keyframes mic-ring{
  0%{opacity:.6;transform:scale(.9)}
  80%{opacity:0;transform:scale(1.3)}
  100%{opacity:0;transform:scale(1.4)}
}
@keyframes mic-dot{
  0%,100%{transform:scale(1);opacity:1}
  50%{transform:scale(1.25);opacity:.65}
}


/* History Modal & Cards */
.history-shell{
  max-width:760px;
  width:min(760px,92%);
  max-height:80vh;
}
.history-body{
  gap:18px;
  align-items:stretch;
  overflow-y:auto;
  padding-right:6px;
}
.history-body h2{margin:0;font-size:24px;font-weight:800;color:var(--ink);text-align:center;}
.history-empty{display:none;font-size:15px;color:var(--muted);text-align:center;padding:18px;border:1px dashed rgba(var(--brand-rgb),.24);border-radius:18px;background:rgba(var(--brand-rgb),.06);}
.history-empty:not(.is-hidden){display:block;}
.history-grid{
  display:grid;
  grid-template-columns:repeat(2,minmax(260px,1fr));
  gap:18px;
  margin:0;
  width:100%;
}
@media (max-width:720px){
  .history-grid{grid-template-columns:1fr;}
}
.history-card{
  background:rgba(255,255,255,.96);
  border:1px solid rgba(var(--brand-rgb),.16);
  border-radius:22px;
  padding:20px 22px;
  box-shadow:0 18px 40px rgba(35,31,32,.08);
  display:flex;
  flex-direction:column;
  gap:12px;
  transition:transform .2s ease, box-shadow .2s ease;
  height:100%;
}
.history-card:hover{transform:translateY(-3px);box-shadow:0 24px 48px rgba(35,31,32,.12);}
.history-card-head{display:flex;align-items:center;justify-content:space-between;gap:12px;}
.history-chip{display:inline-flex;align-items:center;justify-content:center;padding:6px 14px;border-radius:999px;font-size:11px;font-weight:800;letter-spacing:.16em;text-transform:uppercase;background:rgba(var(--brand-rgb),.12);color:var(--brand);}
.history-chip--mild{background:rgba(var(--accent-rgb),.18);color:var(--accent);}
.history-chip--moderate{background:rgba(255,184,77,.24);color:#d37b10;}
.history-chip--severe{background:rgba(var(--bad),.2);color:var(--bad);}
.history-chip--unknown{background:rgba(35,31,32,.08);color:var(--muted);}
.history-time{font-size:12px;color:var(--muted);}
.history-condition{margin:0;font-size:20px;font-weight:800;color:var(--ink);}
.history-severity{margin:0;font-size:14px;font-weight:600;color:var(--muted);}
.history-snippet{margin:0;font-size:15px;line-height:1.55;color:var(--ink);}
.history-advice{margin-top:4px;padding:14px;border-radius:18px;background:rgba(var(--brand-rgb),.08);text-align:left;}
.history-advice span{display:block;font-size:11px;font-weight:800;letter-spacing:.18em;text-transform:uppercase;color:var(--muted);margin-bottom:6px;}
.history-advice p{margin:0;font-size:14px;line-height:1.5;color:var(--ink);}
@media (max-width:680px){
  .history-card{padding:18px 20px;}
  .history-condition{font-size:18px;}
}

